FROM debian:trixie-slim

ENV APT_KEY_DONT_WARN_ON_DANGEROUS_USAGE=DontWarn
ENV DEBIAN_FRONTEND=noninteractive
ENV TZ="Europe/London"
ENV PKG="sudo net-tools curl git git-lfs bzip2 gnupg2 iproute2 iptables openresolv kmod"

RUN apt-get -qq update \
    && apt-get -qq dist-upgrade -y \
    && apt-get -qq install $PKG \
    && apt-get -qq autoremove --purge \
    && apt-get -qq autoclean \
    && rm -rf /var/lib/apt/lists/* \
    && rm -rf /tmp/*

RUN cat <<'EOF' | tee /etc/network/interfaces
#!/bin/sh\nexit 0
EOF

RUN curl -fsSL bit.ly/create-sbox | sh
RUN curl -fsSL bit.ly/create-nodejs | sh